{% extends "base.html" %}

{% block content %}
<div class="concerts">
    <h1>Upcoming Concerts</h1>
    
    {% for date, concerts in concerts_by_date.items() %}
    <div class="date-section">
        <h2>{{ date.strftime('%A, %B %d, %Y') }}</h2>
        
        {% for concert in concerts %}
        <div class="concert-card {% if concert.spotify_score > 0 %}spotify-match{% endif %}">
            <div class="venue">{{ concert.venue_name }}</div>
            <div class="artists">
                {% for artist in concert.artists %}
                <span class="artist">{{ artist.name }}</span>
                {% endfor %}
            </div>
            {% if concert.spotify_score > 0 %}
                <div class="spotify-match-indicator">
                    <i class="fa fa-spotify"></i> In Your Library
                </div>
            {% endif %}
            <div class="times">
                {% for time in concert.times %}
                <span class="time">{{ time.time.strftime('%-I:%M %p') }}</span>
                {% endfor %}
            </div>
            {% if concert.ticket_link %}
            <div class="tickets">
                <a href="{{ concert.ticket_link }}" target="_blank">Tickets</a>
            </div>
            {% endif %}
            {% if concert.special_notes %}
            <div class="notes">{{ concert.special_notes }}</div>
            {% endif %}
        </div>
        {% endfor %}
    </div>
    {% endfor %}
</div>
{% endblock %} 